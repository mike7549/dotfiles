#!/bin/bash

weather=$(curl -s "http://rss.accuweather.com/rss/liveweather_rss.asp?metric=1&locCode=EUR|AT|AU007|INNSBRUCK" | perl -ne 'use utf8; if (/Currently/) {chomp;/\<title\>Currently: (.*)?\<\/title\>/; my @values=split(":",$1);binmode(STDOUT, ":utf8");print"$values[0]"}')

temp=$(curl -s "http://rss.accuweather.com/rss/liveweather_rss.asp?metric=1&locCode=EUR|AT|AU007|INNSBRUCK" | perl -ne 'use utf8; if (/Currently/) {chomp;/\<title\>Currently: (.*)?\<\/title\>/; my @values=split(":",$1);binmode(STDOUT, ":utf8");print"$values[1]"}')

temp2=${temp//C}
SYMBOL=""
case "$weather" in
	"Clear"|"Mostly Clear"|"Sunny") SYMBOL="";;
	"Partly Sunny") SYMBOL='';;
	"Partly Cloudy"|"Intermittent Clouds") SYMBOL='';;
	"Hazy Moonlight") SYMBOL='';;
	"Partly Cloudy W/ Showers") SYMBOL='';;
	"Mostly Cloudy W/ Showers") SYMBOL='';;
	"Partly Cloudy W/ T-Storms") SYMBOL='';;
	"Partly Sunny W/ Flurries") SYMBOL='';;
	"Mostly Cloudy"|"Cloudy") SYMBOL="";;
	"Snow") SYMBOL='';;
	"Ice") SYMBOL='';;
	"Sleet"|"Freezing Rain"|"Rain and Snow"|"Flurries"|"Mostly Cloudy W/ Flurries") SYMBOL='';;
	"Cold") SYMBOL='';;
	"Windy") SYMBOL='';;
	"Showers") SYMBOL='';;
	"Partly Sunny W/ Showers") SYMBOL='';;
	"T-Storms") SYMBOL='';;
	"Mostly Cloudy W/ T-Storms") SYMBOL='';;
	"Partly Sunny W/ T-Storms") SYMBOL='';;
	"Rain") SYMBOL='';;
	"Dreary (Overcast)") SYMBOL='';; 
	"Fog") SYMBOL='';;
	*) weather="You gonna die!" SYMBOL='';;
esac
		
echo " <b>${SYMBOL}</b> <i>${weather}</i> ${temp2}<small>°C</small>"
